<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Analytics Dashboard View -->
    <record id="view_workflow_analytics_dashboard" model="ir.ui.view">
        <field name="name">Workflow Analytics Dashboard</field>
        <field name="model">workflow.analytics</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_refresh_analytics" string="Refresh" type="object" 
                                class="oe_stat_button" icon="fa-refresh"/>
                    </div>
                    <group>
                        <group string="Order Fulfillment">
                            <field name="avg_fulfillment_time" widget="float_time"/>
                            <field name="on_time_delivery_rate" widget="percentage"/>
                        </group>
                        <group string="Performance">
                            <field name="avg_payment_time" widget="float_time"/>
                            <field name="api_response_time" widget="float_time"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Fulfillment Metrics">
                            <group>
                                <field name="fulfillment_stats" widget="text"/>
                            </group>
                        </page>
                        <page string="State Transitions">
                            <field name="transition_stats" widget="text"/>
                        </page>
                        <page string="API Performance">
                            <field name="api_performance" widget="text"/>
                        </page>
                        <page string="Bottlenecks">
                            <field name="bottleneck_analysis" widget="text"/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    
    <!-- Analytics Action -->
    <record id="action_workflow_analytics_dashboard" model="ir.actions.act_window">
        <field name="name">Analytics &amp; KPIs</field>
        <field name="res_model">workflow.analytics</field>
        <field name="view_mode">form</field>
        <field name="target">current</field>
    </record>
</odoo>